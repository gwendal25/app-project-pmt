<section class="listing-apply">
    <h2 class="section-heading">Ajouter un utilisateur au projet</h2>
    <form [formGroup]="userForm" (submit)="submitForm()">
        <p>
            <mat-form-field class="example-full-width">
                <mat-label>Email</mat-label>
                <input type="email" matInput required placeholder="Ex. janeTheRat@gmail.com" cols="50" rows="10" formControlName="email">
                @if (userForm.get('email')?.hasError('required')) {
                    <mat-error>
                        L'email est <strong>obligatoire</strong>
                    </mat-error>
                }
                @if (userForm.get('email')?.hasError('email')) {
                <mat-error>
                    L'email doit Ãªtre <strong>un email correct</strong>
                </mat-error>
            }
            </mat-form-field>
        </p>
        <p>
            <mat-form-field class="example-full-width">
                <mat-label>Role utilisateur</mat-label>
                <mat-select formControlName="userRole" required>
                    @for (role of UserRole | keyvalue; track role) {
                        <mat-option [value]="role.key">{{role.value}}</mat-option>
                    }
                </mat-select>
                @if (userForm.get('userRole')?.hasError('required')) {
                    <mat-error>
                        Le role de l'utilisateur est <strong>obligatoire</strong>
                    </mat-error>
                }
            </mat-form-field>
        </p>
        <p>
            <button type="submit" matButton="filled" [disabled]="!userForm.valid">Ajouter utilisateur</button>
        </p>
    </form>
</section>