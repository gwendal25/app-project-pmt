<article>
    <section class="listing-details">
        <h3 class="listing-heading">Gestion des rôles utilisateurs | {{ projectInfo.name }}</h3>
</section>
<section>
    <p>
        @for(user of projectInfo.users; track user.id) {
        <mat-card class="example-card" appearance="outlined">
          <mat-card-header>
            <mat-card-title class="card-title">{{ user.name }}</mat-card-title>
            <mat-card-subtitle><small>Email : {{ user.email }}</small></mat-card-subtitle>
            <mat-card-subtitle><small>Role : {{ user.role }}</small></mat-card-subtitle>
          </mat-card-header>
          <mat-card-footer class="example-card-footer">
            <mat-form-field appearance="fill">
                <mat-label>Rôle utilisateur</mat-label>
                <mat-select (selectionChange)="assignRole(user.id, $event)" [value]="user.role">
                    @for (role of UserRole | keyvalue; track role) {
                        <mat-option [value]="role.key">{{role.value}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
          </mat-card-footer>
        </mat-card>
      }
    </p>
</section>
</article>
